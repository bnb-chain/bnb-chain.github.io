"use strict";(self.webpackChunkbeta_BNB_Docs=self.webpackChunkbeta_BNB_Docs||[]).push([[5352],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>b});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),s=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=s(e.components);return a.createElement(l.Provider,{value:t},e.children)},d="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,c=p(e,["components","mdxType","originalType","parentName"]),d=s(n),u=r,b=d["".concat(l,".").concat(u)]||d[u]||m[u]||o;return n?a.createElement(b,i(i({ref:t},c),{},{components:n})):a.createElement(b,i({ref:t},c))}));function b(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=u;var p={};for(var l in t)hasOwnProperty.call(t,l)&&(p[l]=t[l]);p.originalType=e,p[d]="string"==typeof e?e:r,i[1]=p;for(var s=2;s<o;s++)i[s]=n[s];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},18515:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>m,frontMatter:()=>o,metadata:()=>p,toc:()=>s});var a=n(83117),r=(n(67294),n(3905));const o={sidebar_label:"Bind Token Tool",hide_table_of_contents:!1,sidebar_position:2},i="token-bind-tool",p={unversionedId:"token-bind-tool",id:"token-bind-tool",title:"token-bind-tool",description:"Tool to bind BEP2 tokens and BEP20 tokens. please refer to document for detail bind mechanism. Github repo for bind token tool here.",source:"@site/docs/token-bind-tool.md",sourceDirName:".",slug:"/token-bind-tool",permalink:"/docs/token-bind-tool",draft:!1,editUrl:"https://github.com/bnb-chain/bnb-chain.github.io/blob/master/docs/token-bind-tool.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_label:"Bind Token Tool",hide_table_of_contents:!1,sidebar_position:2}},l={},s=[{value:"Compile",id:"compile",level:2},{value:"Preparation for binding tokens",id:"preparation-for-binding-tokens",level:2},{value:"Bind BEP2 token with BEP20 token",id:"bind-bep2-token-with-bep20-token",level:2},{value:"Case 1",id:"case-1",level:3},{value:"Case 2",id:"case-2",level:3},{value:"Case 3",id:"case-3",level:3},{value:"Refund rest BNB on temp account",id:"refund-rest-bnb-on-temp-account",level:2}],c={toc:s},d="wrapper";function m(e){let{components:t,...n}=e;return(0,r.kt)(d,(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"token-bind-tool"},"token-bind-tool"),(0,r.kt)("p",null,"Tool to bind BEP2 tokens and BEP20 tokens. please refer to ",(0,r.kt)("a",{parentName:"p",href:"https://docs.bnbchain.org/docs/bind-tokens"},"document")," for detail bind mechanism. Github repo for bind token tool ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/bnb-chain/token-bind-tool.git"},"here"),"."),(0,r.kt)("h2",{id:"compile"},"Compile"),(0,r.kt)("p",null,"Compile token bind tool:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell",metastring:"script",script:!0},"make build\n")),(0,r.kt)("h2",{id:"preparation-for-binding-tokens"},"Preparation for binding tokens"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Generate temp account (Deploy contract on BNB Smart Chain):"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-shell",metastring:"script",script:!0},"./build/token-bind-tool initKey --network-type {testnet/mainnet}\n")),(0,r.kt)("p",{parentName:"li"},"Example response:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-text"},"Temp account: 0xde9Aa1d632b48d881B50528FC524C88474Ec8809, Explorer url: https://bscscan.com/address/0xde9Aa1d632b48d881B50528FC524C88474Ec8809\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Transfer 1 BNB to the temp account."),(0,r.kt)("p",{parentName:"li"},"2.1 Cross chain transfer"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-shell",metastring:"script",script:!0}," bnbcli bridge transfer-out --expire-time `expr $(date +%s) + 3600` \\\n --chain-id Binance-Chain-Tigris --from {keyName} --node http://dataseed4.binance.org:80 \\\n --to {temp account address} --amount 100000000:BNB\n")),(0,r.kt)("p",{parentName:"li"},"Example command:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-shell",metastring:"script",script:!0},"bnbcli bridge transfer-out --expire-time `expr $(date +%s) + 3600` \\\n--chain-id Binance-Chain-Tigris --from bep2TokenIssuer --node http://dataseed4.binance.org:80 \\\n--to 0xde9Aa1d632b48d881B50528FC524C88474Ec8809 --amount 100000000:BNB\n")),(0,r.kt)("p",{parentName:"li"},"2.2 You can also transfer BNB from other BNB Smart Chain account with ",(0,r.kt)("a",{parentName:"p",href:"https://docs.bnbchain.org/docs/wallet/metamask"},"Metamask"),"."))),(0,r.kt)("h2",{id:"bind-bep2-token-with-bep20-token"},"Bind BEP2 token with BEP20 token"),(0,r.kt)("h3",{id:"case-1"},"Case 1"),(0,r.kt)("p",null,"Suppose you have already issued a BEP2 token, and you want to deploy a BEP20 token and bind it with existing BEP2 token:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Import bep2 token owner key(Send bind transaction on BNB Beacon Chain):"),(0,r.kt)("p",{parentName:"li"},"1.1 From ledger: connect ledger to your computer and open BNB Beacon Chain App"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-shell",metastring:"script",script:!0},"bnbcli keys add bep2TokenIssuer --ledger --index {your ledger key index}\n")),(0,r.kt)("p",{parentName:"li"},"1.2 From mnemonic:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-shell",metastring:"script",script:!0},"bnbcli keys add bep2TokenIssuer --recover\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Prepare BEP20 contract code"),(0,r.kt)("p",{parentName:"li"},"2.1 You can refer to ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/bnb-chain/bsc-genesis-contract/blob/master/contracts/bep20_template/BEP20Token.template"},"BEP20 Template")," and modify it according to your own requirements."),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"NOTE 1:")," Ensure the BEP20 symbol is identical to the prefix of a BEP2 token symbol. Suppose a BEP2 token symbol is ",(0,r.kt)("inlineCode",{parentName:"p"},"ABC-123"),", then the BEP20 symbol must be ",(0,r.kt)("inlineCode",{parentName:"p"},"ABC"),"."),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"NOTE 2:")," Ensure the total supply equals to the BEP2 token total supply. As we know, the decimals of BEP2 tokens are 8, if the BEP20 decimal is 18, then the BEP20 total supply must be ",(0,r.kt)("inlineCode",{parentName:"p"},"BEP2_total_supply*10^10"),"."),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"NOTE 3:")," If your BEP2 token is mintable, then you'd better implement ",(0,r.kt)("inlineCode",{parentName:"p"},"mint")," in BEP20 contract. Otherwise, you'd better remove ",(0,r.kt)("inlineCode",{parentName:"p"},"mint")," in BEP20 contract."),(0,r.kt)("p",{parentName:"li"},"2.2 Compile your contract with ",(0,r.kt)("a",{parentName:"p",href:"https://remix.ethereum.org"},"Remix")," and get contract byte code:\n",(0,r.kt)("img",{parentName:"p",src:"https://github.com/bnb-chain/token-bind-tool/blob/master/pictures/compile.png?raw=true",alt:"img"}))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Edit ",(0,r.kt)("inlineCode",{parentName:"p"},"script/contract.json")," to add contract byte code:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "contract_data": ""\n}\n')),(0,r.kt)("p",{parentName:"li"},"Fill contract byte code to ",(0,r.kt)("inlineCode",{parentName:"p"},"contract_data"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Deploy contract, bind and transfer ownership:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-shell",metastring:"script",script:!0},'./script/bind.sh {mainnet/testnet} {bep2TokenIssuerKeyName} {password, for ledger key, use empty string: ""} {peggyAmount} {bep2 token symbol} {token owner} {path to bnbcli or tbnbcli}\n')),(0,r.kt)("p",{parentName:"li"},"Example command:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-shell",metastring:"script",script:!0},'./script/bind.sh testnet bep2TokenIssuer "12345678" 0 ABC-D9B 0xaa25Aa7a19f9c426E07dee59b12f944f4d9f1DD3 $HOME/go/bin/tbnbcli\n')))),(0,r.kt)("h3",{id:"case-2"},"Case 2"),(0,r.kt)("p",null,"Suppose you have already issued BEP2 token, deployed BEP20 contract and sent bind transaction, now you just want to approve bind from your Ledger device:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Connect ledger to your machine and open Ethereum app."),(0,r.kt)("li",{parentName:"ol"},"Execute this command to approve bind:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell",metastring:"script",script:!0},"./build/token-bind-tool approveBindFromLedger --bep2-symbol {bep2 symbol} --bep20-contract-addr {bep20 contract address} \\\n--ledger-account-index {ledger key index} --peggy-amount {peggy amount} --network-type {mainnet/testnet}\n")),(0,r.kt)("h3",{id:"case-3"},"Case 3"),(0,r.kt)("p",null,"Suppose you just want to deploy a BEP20 contract and transfer all token and ownership to your owner account, then you can try this command:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell",metastring:"script",script:!0},"./build/token-bind-tool deployBEP20ContractTransferTotalSupplyAndOwnership --bep20-owner {bep20 owner} \\\n--config-path {contract byte code path, refer to `script/contract.json`} --network-type {mainnet/testnet}\n")),(0,r.kt)("h2",{id:"refund-rest-bnb-on-temp-account"},"Refund rest BNB on temp account"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell",metastring:"script",script:!0},"./build/token-bind-tool refundRestBNB --network-type {mainnet/testnet} --recipient {bsc account}\n")))}m.isMDXComponent=!0}}]);