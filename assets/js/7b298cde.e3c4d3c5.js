"use strict";(self.webpackChunkbeta_BNB_Docs=self.webpackChunkbeta_BNB_Docs||[]).push([[8795],{3905:(e,n,t)=>{t.d(n,{Zo:()=>c,kt:()=>h});var a=t(67294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,a,o=function(e,n){if(null==e)return{};var t,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var l=a.createContext({}),p=function(e){var n=a.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},c=function(e){var n=p(e.components);return a.createElement(l.Provider,{value:n},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},m=a.forwardRef((function(e,n){var t=e.components,o=e.mdxType,r=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),d=p(t),m=o,h=d["".concat(l,".").concat(m)]||d[m]||u[m]||r;return t?a.createElement(h,i(i({ref:n},c),{},{components:t})):a.createElement(h,i({ref:n},c))}));function h(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var r=t.length,i=new Array(r);i[0]=m;var s={};for(var l in n)hasOwnProperty.call(n,l)&&(s[l]=n[l]);s.originalType=e,s[d]="string"==typeof e?e:o,i[1]=s;for(var p=2;p<r;p++)i[p]=t[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,t)}m.displayName="MDXCreateElement"},28285:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>u,frontMatter:()=>r,metadata:()=>s,toc:()=>p});var a=t(83117),o=(t(67294),t(3905));const r={sidebar_label:"Bind BEP2 and BEP20 Tokens",sidebar_position:2},i="Bind BEP2 and BEP20 Tokens",s={unversionedId:"bind-tokens",id:"bind-tokens",title:"Bind BEP2 and BEP20 Tokens",description:"BSC and BC work together to ensure that one token can circulate in both formats with confirmed total supply and be used in different use cases. Token Binding can happen at any time after BEP2/BEP8 and BEP20 are ready. The token owners of either BEP2/BEP8 or BEP20 only need to complete the Binding process when a cross-chain feature is necessary.",source:"@site/docs/bind-tokens.md",sourceDirName:".",slug:"/bind-tokens",permalink:"/docs/bind-tokens",draft:!1,editUrl:"https://github.com/bnb-chain/bnb-chain.github.io/blob/master/docs/bind-tokens.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_label:"Bind BEP2 and BEP20 Tokens",sidebar_position:2},sidebar:"bscSideBar",previous:{title:"Cross-chain Token Management",permalink:"/docs/tokens-cross-chain"},next:{title:"Mirror BEP2 and BEP20 Token",permalink:"/docs/mirror"}},l={},p=[{value:"Issue BEP2 or BEP8 Token",id:"issue-bep2-or-bep8-token",level:2},{value:"Deploy BEP20 Token",id:"deploy-bep20-token",level:2},{value:"Token Binding",id:"token-binding",level:2},{value:"Send Bind Transaction",id:"send-bind-transaction",level:3},{value:"Approve Bind Request",id:"approve-bind-request",level:3},{value:"Use Cases",id:"use-cases",level:2},{value:"Case 1: Lock non-zero in bind transaction",id:"case-1-lock-non-zero-in-bind-transaction",level:3},{value:"Case 2: Lock zero in bind transaction",id:"case-2-lock-zero-in-bind-transaction",level:3}],c={toc:p},d="wrapper";function u(e){let{components:n,...t}=e;return(0,o.kt)(d,(0,a.Z)({},c,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"bind-bep2-and-bep20-tokens"},"Bind BEP2 and BEP20 Tokens"),(0,o.kt)("p",null,"BSC and BC work together to ensure that one token can circulate in both formats with confirmed total supply and be used in different use cases. Token Binding can happen at any time after BEP2/BEP8 and BEP20 are ready. The token owners of either BEP2/BEP8 or BEP20 only need to complete the ",(0,o.kt)("strong",{parentName:"p"},"Binding")," process when a cross-chain feature is necessary."),(0,o.kt)("p",null,"You can use this ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/bnb-chain/token-bind-tool"},"tool"),"."),(0,o.kt)("h2",{id:"issue-bep2-or-bep8-token"},"Issue BEP2 or BEP8 Token"),(0,o.kt)("p",null,"Please refer to this ",(0,o.kt)("a",{parentName:"p",href:"/docs/beaconchain/tokens"},"doc")," to issue BEP2"),(0,o.kt)("p",null,"Please refer to this ",(0,o.kt)("a",{parentName:"p",href:"/docs/beaconchain/wallet/tutorial/bep8"},"doc")," to issue BEP8"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Example"),"\nLet's issue a new BEP2 token ",(0,o.kt)("inlineCode",{parentName:"p"},"ABC")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'## mainnet\nbnbcli token issue --symbol ABC --token-name "ABC token" --mintable --total-supply 10000000000000000 --from owner --chain-id Binance-Chain-Tigris --node https://dataseed1.bnbchain.org:443\n\n## testnet\ntbnbcli token issue --symbol ABC --token-name "ABC token" --mintable --total-supply 10000000000000000 --from owner --chain-id Binance-Chain-Ganges --node https://data-seed-pre-0-s1.bnbchain.org:443\n')),(0,o.kt)("h2",{id:"deploy-bep20-token"},"Deploy BEP20 Token"),(0,o.kt)("p",null,"Please refer to this ",(0,o.kt)("a",{parentName:"p",href:"/docs/issue-BEP20"},"doc")),(0,o.kt)("admonition",{type:"caution"},(0,o.kt)("p",{parentName:"admonition"},"The symbol of the BEP20 token must be exactly identical to the prefix of the bep2 token(case sensitive).")),(0,o.kt)("h2",{id:"token-binding"},"Token Binding"),(0,o.kt)("h3",{id:"send-bind-transaction"},"Send Bind Transaction"),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"expire-time need to be 600 seconds after now")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"## mainnet\nbnbcli bridge bind --symbol ABC-A64 --amount 6000000000000000 --expire-time 1597545851 --contract-decimals 18 --from owner --chain-id Binance-Chain-Tigris --contract-address 0xee3de9d0640ab4342bf83fe2897201543924a324 --node https://dataseed1.bnbchain.org:443\n\n## testnet\ntbnbcli bridge bind --symbol ABC-A64 --amount 6000000000000000 --expire-time 1597545851 --contract-decimals 18 --from owner --chain-id Binance-Chain-Ganges --contract-address 0xee3de9d0640ab4342bf83fe2897201543924a324 --node https://data-seed-pre-0-s1.bnbchain.org:443\n")),(0,o.kt)("p",null,"The total supply of the ABC-A64 token is 100 million. The above bind transfer will transfer 60 million to a pure-code-controlled address. And then there are 40 million flowable tokens in BC. According to our bind mechanism, we have to lock 40 million token to ",(0,o.kt)("strong",{parentName:"p"},"TokenManager")," contract and leave 60 million flowable token on BSC. Thus the sum of flowable tokens on both chains is 100 million. Please remember that the amounts I mentioned above don\u2019t include decimals."),(0,o.kt)("h3",{id:"approve-bind-request"},"Approve Bind Request"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Grant allowance:"),(0,o.kt)("p",{parentName:"li"},"In ",(0,o.kt)("a",{parentName:"p",href:"/docs/wallet/myetherwallet"},"myetherwallet"),", call the ",(0,o.kt)("strong",{parentName:"p"},"approve")," of the BEP20 to grant a 40 million allowance to TokenManager contract. The spender value should be ",(0,o.kt)("inlineCode",{parentName:"p"},"0x0000000000000000000000000000000000001008"),", and the amount value should be 4e25. The transaction sender should be the BEP20 owner."),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{parentName:"p",src:"https://lh6.googleusercontent.com/p-HctNRPwXg0VD1yfE3j4OJ3BrMHPZpiGGCtp7XUJX34z_LT53nvZqgTzY58Ab1EsybJipwjsnwL2uJ-CPH8gntDpcw7LW7aFPK1_KRxxnNq-xErwGpaPTlg5UbfKoVNjd4YT0xU",alt:"img"}))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Approve Bind"),(0,o.kt)("p",{parentName:"li"},"In ",(0,o.kt)("a",{parentName:"p",href:"/docs/wallet/myetherwallet"},"myetherwallet"),", call ",(0,o.kt)("strong",{parentName:"p"},"approveBind")," in ",(0,o.kt)("strong",{parentName:"p"},"TokenManager")," contract with the latest ",(0,o.kt)("a",{parentName:"p",href:"https://raw.githubusercontent.com/bnb-chain/bsc-genesis-contract/master/abi/tokenmanager.abi"},"ABI")," to approve the bind request from the BEP20 owner address."),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{parentName:"p",src:"https://lh6.googleusercontent.com/nFIbDxpA8bTVYH0Rt4UD-SYYz62TmYKjOsgK1CXxFRHHJlz6gOyXnq5p3GesM_zrQES4ixmojvN_Srk4CIf1MPxBXbia-K2DNiL23Hao1HiUgdNe4S2BmPe6yn5XJz7ajlwVVCti",alt:"img"})),(0,o.kt)("p",{parentName:"li"},"The value here should be no less than ",(0,o.kt)("inlineCode",{parentName:"p"},"miniRelayFee/1e18"),". The initial ",(0,o.kt)("inlineCode",{parentName:"p"},"miniRelayFee")," is 1e16. So ",(0,o.kt)("inlineCode",{parentName:"p"},"miniRelayFee/1e18")," equals to ",(0,o.kt)("inlineCode",{parentName:"p"},"0.01"),". Besides, ",(0,o.kt)("inlineCode",{parentName:"p"},"miniRelayFee")," can be changed by on-chain governance")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Confirm bind result on BC"),(0,o.kt)("p",{parentName:"li"},"Wait for about 20 seconds and execute this command:"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"## mainnet\nbnbcli token info --symbol ABC-A64 --trust-node --node https://dataseed1.bnbchain.org:443\n## testnet\ntbnbcli token info --symbol ABC-A64 --trust-node --node https://data-seed-pre-0-s1.bnbchain.org:443\n")),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "type": "bnbchain/Token",\n  "value": {\n    "name": "ABC Token",\n    "symbol": "ABC-A64",\n    "original_symbol": "ABC",\n    "total_supply": "100000000.00000000",\n    "owner": "tbnb1l9ffdr8e2pk7h4agvhwcslh2urwpuhqm2u82hy",\n    "mintable": false,\n    "contract_address": "0xXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",\n    "contract_decimals": 18\n  }\n}\n')),(0,o.kt)("p",{parentName:"li"},"If the bind was successful, then in the above response, ",(0,o.kt)("strong",{parentName:"p"},'"contract_address" and "contract_decimals" should not be empty'),"."))),(0,o.kt)("h2",{id:"use-cases"},"Use Cases"),(0,o.kt)("h3",{id:"case-1-lock-non-zero-in-bind-transaction"},"Case 1: Lock non-zero in bind transaction"),(0,o.kt)("p",null,"Suppose you have 20 million on your treasure, you decide to lock some tokens via the bind tx:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Send bind transfer on BNB Chain and specify the 20 million as the lock amount."),(0,o.kt)("li",{parentName:"ol"},"Your BEP20 has 100 million supplies, you need to run the ",(0,o.kt)("inlineCode",{parentName:"li"},"approve")," to grant allowance to the tokenHub contract, then you run ",(0,o.kt)("inlineCode",{parentName:"li"},"approveBind"),", along these step, you don't have to specify how much exactly you need to transfer to the tokenHub contract, it will figure it out (here actually it is 80 million), as long as you ",(0,o.kt)("inlineCode",{parentName:"li"},"approve")," it with enough amount."),(0,o.kt)("li",{parentName:"ol"},"If your ",(0,o.kt)("inlineCode",{parentName:"li"},"approveBind")," runs successfully, the bind is done. Your 20 million treasures actually will be on your owner address on BSC, and this is your ",(0,o.kt)("strong",{parentName:"li"},"CHOICE"),"."),(0,o.kt)("li",{parentName:"ol"},"After your bind, you can spend your 20 million whatever you want (including transferring back to BC), and for other holders of your token on BC, they can transfer their token to BSC at their own choice without your help or your permission.")),(0,o.kt)("h3",{id:"case-2-lock-zero-in-bind-transaction"},"Case 2: Lock zero in bind transaction"),(0,o.kt)("p",null,"Suppose you choose not to touch your 20 million in treasure at all:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"When you have 20 million on your treasure, you can choose to lock ZERO when you run the bind tx."),(0,o.kt)("li",{parentName:"ol"},"Suppose Your BEP20 has 100 million supplies, you need to run the ",(0,o.kt)("inlineCode",{parentName:"li"},"approve")," to grant 100 million allowance to the tokenHub contract, then you run ",(0,o.kt)("inlineCode",{parentName:"li"},"approveBind"),"."),(0,o.kt)("li",{parentName:"ol"},"If your approveBind runs successfully, the bind is done. Your 20 million treasures stay at BC in your treasure address, nothing happens to it, and this is your ",(0,o.kt)("strong",{parentName:"li"},"CHOICE"),". Meanwhile, on BSC, no one has any BEP20 tokens, except the tokenHub. However, because the bind is done, ANYONE, including yourself, can get BEP20 whenever they want by a simple cross-chain transfer.")))}u.isMDXComponent=!0}}]);