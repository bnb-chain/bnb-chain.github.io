<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-beaconchain/match">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">What exactly is Binance DEX matching logic? | BNB Chain Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://bnb-chain.github.io/docs/beaconchain/match"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="What exactly is Binance DEX matching logic? | BNB Chain Documentation"><meta data-rh="true" name="description" content="Binance DEX uses periodic auction to match all available orders. Maker/Taker concepts are introduced to enhance the current periodic auction match algorithm. The match is still executed only once in each block while the execution prices may vary for maker and taker orders."><meta data-rh="true" property="og:description" content="Binance DEX uses periodic auction to match all available orders. Maker/Taker concepts are introduced to enhance the current periodic auction match algorithm. The match is still executed only once in each block while the execution prices may vary for maker and taker orders."><link data-rh="true" rel="icon" href="/img/icon/favicon.ico"><link data-rh="true" rel="canonical" href="https://bnb-chain.github.io/docs/beaconchain/match"><link data-rh="true" rel="alternate" href="https://bnb-chain.github.io/docs/beaconchain/match" hreflang="en"><link data-rh="true" rel="alternate" href="https://bnb-chain.github.io/docs/beaconchain/match" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://3LF005YNGZ-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="BNB Chain Documentation" href="/opensearch.xml">

<!-- Google Tag Manager -->
    <script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-W9BVQXM",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script>
    <!-- End Google Tag Manager --><link rel="stylesheet" href="/assets/css/styles.41c1d6b0.css">
<link rel="preload" href="/assets/js/runtime~main.33778d0c.js" as="script">
<link rel="preload" href="/assets/js/main.f6500e59.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbar--primary"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/image.png" alt="BNB" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/image.png" alt="BNB" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">BNB Chain Documentation</b></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><main class="docMainContainer_gTbr docMainContainerEnhanced_Uz_u"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>What exactly is Binance DEX matching logic?</h1><p>Binance DEX uses periodic auction to match all available orders. Maker/Taker concepts are introduced to enhance the current periodic auction match algorithm. The match is still executed only once in each block while the execution prices may vary for maker and taker orders.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="match-candidates">Match Candidates<a href="#match-candidates" class="hash-link" aria-label="Direct link to Match Candidates" title="Direct link to Match Candidates">​</a></h2><p>Orders meet any of the below conditions would be considered as the candidates of next match round:</p><ul><li>New orders that come in just now and get confirmed by being accepted into the latest block</li><li>Existing orders that come in the past blocks before the latest, and have not been filled or expired</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="match-time">Match Time<a href="#match-time" class="hash-link" aria-label="Direct link to Match Time" title="Direct link to Match Time">​</a></h2><p>Candidates would be matched right after one block is committed. Each block has one round of match.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="match-logic">Match Logic<a href="#match-logic" class="hash-link" aria-label="Direct link to Match Logic" title="Direct link to Match Logic">​</a></h2><p>The below matching logic would be applied on every listed token pairs.</p><ul><li><p>The match only happens when the best bid and ask prices are &#x27;crossed&#x27;, i.e. best bid &gt; best ask.</p></li><li><p>There would be only 1 price selected in one match round as the best prices among all the fillable
orders, to show the fairness.</p></li><li><p>All the orders would be matched first by the price aggressiveness and then block height that they get accepted.</p></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclude-execution-price">Conclude Execution Price<a href="#conclude-execution-price" class="hash-link" aria-label="Direct link to Conclude Execution Price" title="Direct link to Conclude Execution Price">​</a></h2><p>The execution price would be selected as the below logic, in order to:</p><ul><li>Maximize the execution quantity</li><li>Execute all orders or at least all orders on one side that are fillable against the selected price.</li><li>Indicate the market pressure from either buy or sell and also consider to limit the max price movement. Let’s call this concluded price P.</li></ul><p>Please check <a href="/docs/beaconchain/match-examples">this article</a> with detailed examples for this if you are interested.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="order-matches">Order Matches<a href="#order-matches" class="hash-link" aria-label="Direct link to Order Matches" title="Direct link to Order Matches">​</a></h2><p>After the execution price is concluded. Order match would happen in sequence of the price and time, i.e.</p><ul><li>Orders with best bid price would match with order with best ask price;</li><li>If the orders on one price cannot be fully filled by the opposite orders:
for the orders with the same price, the orders from the earlier blocks would be selected and filled first</li><li>If the orders have the same price and block height, and cannot be fully filled, the execution
would be allocated to each order in proportion to their quantity (floored if the number has a partial lot).
If the allocation cannot be accurately divided, a deterministic algorithm would guarantee that no consistent
bias to any orders.</li></ul><p>After the execution price <code>P</code> is concluded, buy orders with price equal to or larger than <code>P</code>, and sell orders with price equal to or less than <code>P</code> will match. For the orders that come into match in the new block, the trades will be allocated according to the below principles:</p><ul><li>All new incoming buy orders into this current block (called &quot;new orders&quot; in this context) will get executed with the same price, so do all the sell orders; so that there is no chance for front-running on the same side.</li><li>All the executed price will honor the order limit price;</li><li>All the executed price for the new orders will be equal to or better than the concluded auction price <code>P</code>, so no front-running from the opposite side.</li></ul><p>For other orders that have arrived in the previous blocks, they will join match together with the new orders from the new block, and be considered as &quot;Maker&quot; role. The detailed explanation of <code>Maker/Taker</code> is as below:</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="definition-of-maker-and-taker">Definition of Maker and Taker<a href="#definition-of-maker-and-taker" class="hash-link" aria-label="Direct link to Definition of Maker and Taker" title="Direct link to Definition of Maker and Taker">​</a></h3><p>Among all the orders to be allocated, between buy and sell sides, this specification defines four concepts.</p><table><thead><tr><th>Name</th><th>Definition</th></tr></thead><tbody><tr><td>Maker Order</td><td>order from the previous blocks</td></tr><tr><td>Taker Order</td><td>new incoming order in the current block</td></tr><tr><td>Maker Side</td><td>buy or sell side which has maker orders. May also have taker orders.</td></tr><tr><td>Taker Side</td><td>buy or sell side which only has taker orders.</td></tr></tbody></table><p>In each round of match, for all the orders that can be filled with the concluded price <code>P</code>, the algorithm ensures only one of the below two circumstances can happen,</p><ol><li><p>Both buy and sell side are <code>Taker Side</code>, when there is no leftover orders from all the previous blocks;</p></li><li><p>One side is <code>Maker Side</code> that has orders from previous blocks (and may/may not have orders from this current block),  and the other is <code>Taker Side</code> that only has orders from this current block.</p></li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="execution-pricing">Execution Pricing<a href="#execution-pricing" class="hash-link" aria-label="Direct link to Execution Pricing" title="Direct link to Execution Pricing">​</a></h3><p>Among all the orders to be allocated,</p><ol><li><p>For maker side:</p><ul><li>all the maker orders are executed at their limit price</li><li>all the taker orders on the maker side are executed at the concluded price <code>P</code></li></ul></li><li><p>For taker side, all the orders are executed at the average execution price from the above #1</p></li></ol><p>If no maker side in this match, all the orders are executed at price <code>P</code>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/bnb-chain/bnb-chain.github.io/blob/master/docs/beaconchain/match.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#match-candidates" class="table-of-contents__link toc-highlight">Match Candidates</a></li><li><a href="#match-time" class="table-of-contents__link toc-highlight">Match Time</a></li><li><a href="#match-logic" class="table-of-contents__link toc-highlight">Match Logic</a></li><li><a href="#conclude-execution-price" class="table-of-contents__link toc-highlight">Conclude Execution Price</a></li><li><a href="#order-matches" class="table-of-contents__link toc-highlight">Order Matches</a><ul><li><a href="#definition-of-maker-and-taker" class="table-of-contents__link toc-highlight">Definition of Maker and Taker</a></li><li><a href="#execution-pricing" class="table-of-contents__link toc-highlight">Execution Pricing</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/getting-started">Getting Started</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://forum.bnbchain.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">BNB Chain Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.bnbchain.org/en/blog/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/bnb-chain" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discord.com/invite/bnbchain" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/BNBCHAIN" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="http://t.me/bnbchain" target="_blank" rel="noopener noreferrer" class="footer__link-item">Telegram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Build N Build.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.33778d0c.js"></script>
<script src="/assets/js/main.f6500e59.js"></script>
<!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-W9BVQXM" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) --></body>
</html>