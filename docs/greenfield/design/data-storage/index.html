<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-greenfield/design/data-storage">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">The Greenfield Data Storage | BNB Chain Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://bnb-chain.github.io/docs/greenfield/design/data-storage"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="The Greenfield Data Storage | BNB Chain Documentation"><meta data-rh="true" name="description" content="The data stored on Greenfield has two main categories:"><meta data-rh="true" property="og:description" content="The data stored on Greenfield has two main categories:"><link data-rh="true" rel="icon" href="/img/icon/favicon.ico"><link data-rh="true" rel="canonical" href="https://bnb-chain.github.io/docs/greenfield/design/data-storage"><link data-rh="true" rel="alternate" href="https://bnb-chain.github.io/docs/greenfield/design/data-storage" hreflang="en"><link data-rh="true" rel="alternate" href="https://bnb-chain.github.io/docs/greenfield/design/data-storage" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://3LF005YNGZ-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="BNB Chain Documentation" href="/opensearch.xml">

<!-- Google Tag Manager -->
    <script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-W9BVQXM",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script>
    <!-- End Google Tag Manager --><link rel="stylesheet" href="/assets/css/styles.41c1d6b0.css">
<link rel="preload" href="/assets/js/runtime~main.66947a7f.js" as="script">
<link rel="preload" href="/assets/js/main.0a0a7fb7.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbar--primary"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/image.png" alt="BNB" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/image.png" alt="BNB" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">BNB Chain Documentation</b></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><main class="docMainContainer_gTbr docMainContainerEnhanced_Uz_u"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>The Greenfield Data Storage</h1><p>The data stored on Greenfield has two main categories:</p><p><strong>1.</strong> <strong>Data with Blockchain Consensus:</strong> They are Greenfield blockchain data. All Greenfield validators have such active data in full (at least the latest state). Anyone can join the blockchain as full nodes to synchronize these data for free.</p><p><strong>2.</strong> <strong>Object Payload Data:</strong> object data for short. This is the data that users store on Greenfield. Such data has access control and requires fees to store. They are not stored on the blockchain but on enough instances of SPs off-chain.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="data-with-consensus">Data with Consensus<a href="#data-with-consensus" class="hash-link" aria-label="Direct link to Data with Consensus" title="Direct link to Data with Consensus">​</a></h2><p>These data are on-chain and can be only changed through transactions
onto the Greenfield blockchain. It has several types as described below.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="accounts-and-balance">Accounts and Balance<a href="#accounts-and-balance" class="hash-link" aria-label="Direct link to Accounts and Balance" title="Direct link to Accounts and Balance">​</a></h3><p>Each user has their &quot;<strong>Owner Address</strong>&quot; as the identifier for their owner account to &quot;<strong>own</strong>&quot; the data resources. There is another &quot;<strong>payment account</strong>&quot; type dedicated to billing and payment purposes and owned by owner addresses.</p><p>Both owner accounts and payment accounts can hold the BNB balance on
Greenfield. Users can deposit BNB from BSC, accept transfers from other users, and spend them on transaction gas and storage usage.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="validator-and-sp-metadata">Validator and SP Metadata<a href="#validator-and-sp-metadata" class="hash-link" aria-label="Direct link to Validator and SP Metadata" title="Direct link to Validator and SP Metadata">​</a></h3><p>These are the basic information about the Greenfield validators and
Greenfield SPs. SPs may have more information, as it has to publish
their service information for users&#x27; data operations. There should be a
reputation mechanism for SPs as well.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="storage-metadata">Storage Metadata<a href="#storage-metadata" class="hash-link" aria-label="Direct link to Storage Metadata" title="Direct link to Storage Metadata">​</a></h3><p>The &quot;<strong>storage metadata</strong>&quot; includes <code>size</code>, <code>ownership</code>, <code>checksum hashes</code>, and <code>distribution location</code> among SPs. Similar to AWS S3, the basic unit of the storage is an &quot;<em>object</em>&quot;, which can be a piece of binary data, text files, photos, videos, or any other format. Users can create their objects under their &quot;<em>bucket</em>&quot;. A bucket is globally unique. The object can be referred to via the bucket name and the object ID. It can also be located by the bucket name, the prefix tag, and the object ID via off-chain facilitations.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="permission-metadata">Permission Metadata<a href="#permission-metadata" class="hash-link" aria-label="Direct link to Permission Metadata" title="Direct link to Permission Metadata">​</a></h3><p>Data resources on Greenfield, such as the data objects and the buckets, all have access control, such as which address can create, read, list, or even execute the resources, and which address can grant/revoke these permissions.</p><p>Two other data resources also have access control. One is &quot;<strong>Group</strong>&quot;. A
group represents a group of user addresses that have the same
permissions to the same resources. It can be used in the same way as an address in the access control. Meanwhile, it requires permission too to change the group. The other is &quot;<strong>payment account</strong>&quot;. They are created by the owner accounts.</p><p>Here the access control is enforced by the SPs off-chain. People can
test and challenge the SPs if they mess up the control. Slash and reward will happen to keep the SPs sticking to the principles.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="billing-metadata">Billing Metadata<a href="#billing-metadata" class="hash-link" aria-label="Direct link to Billing Metadata" title="Direct link to Billing Metadata">​</a></h3><p>Users have to pay fees to store data objects on Greenfield. While each object enjoys a free quota to download by users who are permitted to, the excessive download will require extra data packages to be paid for the bandwidth. Besides the owner address, users can derive multiple &quot;<strong>Payment Addresses</strong>&quot; to pay these fees. Objects are stored under buckets, while each bucket can be associated with these payment addresses, and the system will charge these accounts for storing and/or downloading. Many buckets can share the same payment address. Such association information is also stored on chains with consensus as well.</p><p>The payment of Greenfield is on a stream pay model, which will greatly reduce the complexity to implement the billing logic - more described in the <a href="/docs/greenfield/tech-specs/ecosystem-players">Technical Specification</a> section.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="off-chain-payload-object-data-storage">Off-Chain Payload Object Data Storage<a href="#off-chain-payload-object-data-storage" class="hash-link" aria-label="Direct link to Off-Chain Payload Object Data Storage" title="Direct link to Off-Chain Payload Object Data Storage">​</a></h2><p>The payload data of the object, i.e. the bytes comprising the data
files, photos, and videos, are stored off-chain in multiple SPs with a data redundancy design. Each SP can have its edition of an object storage system with a good SLA and high-performance interface to interact with the users and other SPs.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="primary-and-secondary-sps">Primary and Secondary SPs<a href="#primary-and-secondary-sps" class="hash-link" aria-label="Direct link to Primary and Secondary SPs" title="Direct link to Primary and Secondary SPs">​</a></h3><p>Among the multiple SPs that one object is stored on, one SP will be the
&quot;<strong>Primary SP</strong>&quot;, while the others are &quot;<strong>Secondary SP</strong>&quot;.</p><p>When users want to write an object into Greenfield, they or the client
software they use must specify the primary SP. Primary SP should be used
as the only SP to download the data. Users can change the primary SP for
their objects later if they are not satisfied with their service.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="data-redundancy">Data Redundancy<a href="#data-redundancy" class="hash-link" aria-label="Direct link to Data Redundancy" title="Direct link to Data Redundancy">​</a></h3><p>After the users issue a &quot;write&quot; request, Primary SP should respond to the client upload request to accept the user upload, chop the object data into segments, verify the data integrity and store all the segments.
After that, Primary SP computes a data redundancy solution for these segments based on Erasure Coding (EC). Then Primary SP or the users will select a few secondary SPs to store these segment replicas and their EC parity pieces. This data distribution communication will be done via the p2p network and REST
APIs among SPs.
The data redundancy setup is to ensure that even if the primary SP and a few secondary SPs become unavailable at a later time, Greenfield can still recover the full data.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/bnb-chain/bnb-chain.github.io/blob/master/docs/greenfield/design/data-storage.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#data-with-consensus" class="table-of-contents__link toc-highlight">Data with Consensus</a><ul><li><a href="#accounts-and-balance" class="table-of-contents__link toc-highlight">Accounts and Balance</a></li><li><a href="#validator-and-sp-metadata" class="table-of-contents__link toc-highlight">Validator and SP Metadata</a></li><li><a href="#storage-metadata" class="table-of-contents__link toc-highlight">Storage Metadata</a></li><li><a href="#permission-metadata" class="table-of-contents__link toc-highlight">Permission Metadata</a></li><li><a href="#billing-metadata" class="table-of-contents__link toc-highlight">Billing Metadata</a></li></ul></li><li><a href="#off-chain-payload-object-data-storage" class="table-of-contents__link toc-highlight">Off-Chain Payload Object Data Storage</a><ul><li><a href="#primary-and-secondary-sps" class="table-of-contents__link toc-highlight">Primary and Secondary SPs</a></li><li><a href="#data-redundancy" class="table-of-contents__link toc-highlight">Data Redundancy</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/getting-started">Getting Started</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://forum.bnbchain.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">BNB Chain Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.bnbchain.org/en/blog/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/bnb-chain" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discord.com/invite/bnbchain" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/BNBCHAIN" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="http://t.me/bnbchain" target="_blank" rel="noopener noreferrer" class="footer__link-item">Telegram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Build N Build.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.66947a7f.js"></script>
<script src="/assets/js/main.0a0a7fb7.js"></script>
<!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-W9BVQXM" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) --></body>
</html>